<div align="center">
  <a href="https://swarms.ai">
    <img src="https://github.com/The-Swarm-Corporation/swarms-rs/blob/main/logo.png" style="margin: 15px; max-width: 1000px" width="80%" alt="Logo">
  </a>
</div>

<p align="center">
  <em>åŸºäº Rust çš„ä¼ä¸šçº§ç”Ÿäº§å°±ç»ªå¤šæ™ºèƒ½ä½“ç¼–æ’æ¡†æ¶</em>
</p>

<p align="center">
  <!-- Rust Crate Badges -->
  <a href="https://crates.io/crates/swarms-rs" target="_blank">
    <img alt="Crates.io" src="https://img.shields.io/crates/v/swarms-rs?style=for-the-badge&logo=rust&color=orange" />
    <img alt="Downloads" src="https://img.shields.io/crates/d/swarms-rs?style=for-the-badge&color=orange" />
    <img alt="Rust Docs" src="https://img.shields.io/badge/docs.rs-swarms--rs-blue?style=for-the-badge&logo=rust" />
  </a>
</p>

<p align="center">
    <a href="https://twitter.com/swarms_corp/">ğŸ¦ æ¨ç‰¹</a>
    <span>&nbsp;&nbsp;â€¢&nbsp;&nbsp;</span>
    <a href="https://discord.gg/EamjgSaEQf">ğŸ“¢ Discord</a>
    <span>&nbsp;&nbsp;â€¢&nbsp;&nbsp;</span>
    <a href="https://swarms.ai">Swarms å®˜ç½‘</a>
    <span>&nbsp;&nbsp;â€¢&nbsp;&nbsp;</span>
    <a href="https://docs.swarms.world">ğŸ“™ æ–‡æ¡£</a>
    <span>&nbsp;&nbsp;â€¢&nbsp;&nbsp;</span>
    <a href="https://swarms.world">Swarms å¸‚åœº</a>
</p>

<p align="center">
    <!-- ç¤¾äº¤åª’ä½“ -->
    <a href="https://discord.gg/jHnrkH5y">
        <img src="https://img.shields.io/badge/Discord-åŠ å…¥æˆ‘ä»¬çš„æœåŠ¡å™¨-5865F2?style=for-the-badge&logo=discord&logoColor=white" alt="Discord">
    </a>
    <a href="https://www.youtube.com/@kyegomez3242">
        <img src="https://img.shields.io/badge/YouTube-è®¢é˜…-red?style=for-the-badge&logo=youtube&logoColor=white" alt="YouTube">
    </a>
    <a href="https://www.linkedin.com/in/kye-g-38759a207/">
        <img src="https://img.shields.io/badge/LinkedIn-å…³æ³¨-blue?style=for-the-badge&logo=linkedin&logoColor=white" alt="LinkedIn">
    </a>
    <a href="https://x.com/kyegomezb">
        <img src="https://img.shields.io/badge/X.com-å…³æ³¨-1DA1F2?style=for-the-badge&logo=x&logoColor=white" alt="X.com">
    </a>
</p>

<p align="center">
    <!-- é¡¹ç›®ç»Ÿè®¡ -->
    <a href="https://github.com/kyegomez/swarms/issues">
        <img src="https://img.shields.io/github/issues/kyegomez/swarms" alt="GitHub issues">
    </a>
    <a href="https://github.com/kyegomez/swarms/network">
        <img src="https://img.shields.io/github/forks/kyegomez/swarms" alt="GitHub forks">
    </a>
    <a href="https://github.com/The-Swarm-Corporation/swarms-rs/stargazers">
        <img src="https://github.com/The-Swarm-Corporation/swarms-rs" alt="GitHub stars">
    </a>
    <a href="https://github.com/The-Swarm-Corporation/swarms-rs/blob/main/LICENSE">
        <img src="https://github.com/The-Swarm-Corporation/swarms-rs" alt="GitHub license">
    </a>
    <a href="https://star-history.com/#kyegomez/swarms">
        <img src="https://img.shields.io/github/stars/kyegomez/swarms?style=social" alt="GitHub star chart">
    </a>
</p>

<p align="center">
    <!-- åˆ†äº«æŒ‰é’® -->
    <a href="https://twitter.com/intent/tweet?text=Check%20out%20this%20amazing%20AI%20project:%20&url=https%3A%2F%2Fgithub.com%2Fkyegomez%2Fswarms">
        <img src="https://img.shields.io/twitter/url/https/twitter.com/cloudposse.svg?style=social&label=åˆ†äº«%20%40kyegomez/swarms" alt="Share on Twitter">
    </a>
    <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fgithub.com%2Fkyegomez%2Fswarms">
        <img src="https://img.shields.io/badge/åˆ†äº«-%20facebook-blue" alt="Share on Facebook">
    </a>
    <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fgithub.com%2Fkyegomez%2Fswarms&title=&summary=&source=">
        <img src="https://img.shields.io/badge/åˆ†äº«-%20linkedin-blue" alt="Share on LinkedIn">
    </a>
</p>

<p align="center">
    <!-- é¢å¤–åˆ†äº«æŒ‰é’® -->
    <a href="https://www.reddit.com/submit?url=https%3A%2F%2Fgithub.com%2Fkyegomez%2Fswarms&title=Swarms%20-%20the%20future%20of%20AI">
        <img src="https://img.shields.io/badge/-åœ¨Redditä¸Šåˆ†äº«-orange" alt="Share on Reddit">
    </a>
    <a href="https://news.ycombinator.com/submitlink?u=https%3A%2F%2Fgithub.com%2Fkyegomez%2Fswarms&t=Swarms%20-%20the%20future%20of%20AI">
        <img src="https://img.shields.io/badge/-åœ¨Hacker%20Newsä¸Šåˆ†äº«-orange" alt="Share on Hacker News">
    </a>
    <a href="https://pinterest.com/pin/create/button/?url=https%3A%2F%2Fgithub.com%2Fkyegomez%2Fswarms&media=https%3A%2F%2Fexample.com%2Fimage.jpg&description=Swarms%20-%20the%20future%20of%20AI">
        <img src="https://img.shields.io/badge/-åœ¨Pinterestä¸Šåˆ†äº«-red" alt="Share on Pinterest">
    </a>
    <a href="https://api.whatsapp.com/send?text=Check%20out%20Swarms%20-%20the%20future%20of%20AI%20%23swarms%20%23AI%0A%0Ahttps%3A%2F%2Fgithub.com%2Fkyegomez%2Fswarms">
        <img src="https://img.shields.io/badge/-åœ¨WhatsAppä¸Šåˆ†äº«-green" alt="Share on WhatsApp">
    </a>
</p>

## æ¦‚è¿°

`swarms-rs` æ˜¯ä¸€ä¸ªåŸºäº Rust æ„å»ºçš„ä¼ä¸šçº§ã€ç”Ÿäº§å°±ç»ªçš„å¤šæ™ºèƒ½ä½“ç¼–æ’æ¡†æ¶ï¼Œæ—¨åœ¨ä»¥æ— ä¸ä¼¦æ¯”çš„é€Ÿåº¦å’Œæ•ˆç‡å¤„ç†æœ€è‹›åˆ»çš„ä»»åŠ¡ã€‚åˆ©ç”¨ Rust çš„å°–ç«¯æ€§èƒ½å’Œå®‰å…¨æ€§ç‰¹æ€§ï¼Œ`swarms-rs` ä¸ºè·¨å„ç§è¡Œä¸šçš„å¤æ‚å¤šæ™ºèƒ½ä½“ç³»ç»Ÿç¼–æ’æä¾›äº†å¼ºå¤§ä¸”å¯æ‰©å±•çš„è§£å†³æ–¹æ¡ˆã€‚

## ä¸»è¦ä¼˜åŠ¿

| ç‰¹æ€§                        | æè¿°                                                                                                                                                                                                 |
|-----------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| æè‡´æ€§èƒ½                    | åˆ©ç”¨ Rust çš„é›¶æˆæœ¬æŠ½è±¡å’Œæ— ç•å¹¶å‘ï¼Œå……åˆ†å‘æŒ¥ç°ä»£å¤šæ ¸å¤„ç†å™¨çš„æ½œåŠ›ã€‚`Swarms-rs` ç¡®ä¿æ‚¨çš„æ™ºèƒ½ä½“ä»¥æœ€å°å¼€é”€è¿è¡Œï¼Œå®ç°æœ€å¤§ååé‡å’Œæ•ˆç‡ã€‚ |
| å°–ç«¯é€Ÿåº¦                    | ä½¿ç”¨ Rust ç¼–å†™ï¼Œ`swarms-rs` æä¾›æ¥è¿‘é›¶å»¶è¿Ÿå’Œé—ªç”µèˆ¬çš„æ‰§è¡Œé€Ÿåº¦ï¼Œä½¿å…¶æˆä¸ºé«˜é¢‘å’Œå®æ—¶åº”ç”¨çš„ç†æƒ³é€‰æ‹©ã€‚                                              |
| ä¼ä¸šçº§å¯é æ€§                | Rust çš„æ‰€æœ‰æƒæ¨¡å‹ä¿è¯äº†å†…å­˜å®‰å…¨ï¼Œæ— éœ€åƒåœ¾æ”¶é›†å™¨ï¼Œç¡®ä¿æ‚¨çš„å¤šæ™ºèƒ½ä½“ç³»ç»Ÿå…å—æ•°æ®ç«äº‰å’Œå†…å­˜æ³„æ¼çš„å½±å“ã€‚                                   |
| ç”Ÿäº§å°±ç»ª                    | ä¸“ä¸ºå®é™…éƒ¨ç½²è®¾è®¡ï¼Œ`swarms-rs` å·²å‡†å¤‡å¥½ä»¥æ‚¨å¯ä»¥ä¾èµ–çš„ç¨³å¥æ€§å’Œå¯é æ€§å¤„ç†å…³é”®ä»»åŠ¡ã€‚                                                           |
| å¼ºå¤§çš„ç¼–æ’èƒ½åŠ›              | æ— ç¼ç®¡ç†å’Œåè°ƒæ•°åƒä¸ªæ™ºèƒ½ä½“ï¼Œä½¿å®ƒä»¬èƒ½å¤Ÿé«˜æ•ˆåœ°é€šä¿¡å’Œåä½œä»¥å®ç°å¤æ‚ç›®æ ‡ã€‚                                                                     |
| å¯æ‰©å±•å’Œæ¨¡å—åŒ–              | `Swarms-rs` é«˜åº¦æ¨¡å—åŒ–ï¼Œå…è®¸å¼€å‘äººå‘˜è½»æ¾æ‰©å±•å’Œè‡ªå®šä¹‰æ¡†æ¶ä»¥é€‚åº”ç‰¹å®šç”¨ä¾‹ã€‚                                                                                 |
| å¯æ‰©å±•å’Œé«˜æ•ˆ                | æ— è®ºæ‚¨æ˜¯ç¼–æ’å°‘é‡æ™ºèƒ½ä½“è¿˜æ˜¯æ‰©å±•åˆ°æ•°ç™¾ä¸‡ä¸ªï¼Œ`swarms-rs` éƒ½è®¾è®¡ä¸ºéšç€æ‚¨çš„éœ€æ±‚å¢é•¿ï¼Œåœ¨æ¯ä¸ªçº§åˆ«ä¿æŒé¡¶çº§æ€§èƒ½ã€‚                               |
| èµ„æºæ•ˆç‡                    | é€šè¿‡ Rust å¯¹å†…å­˜å’Œå¤„ç†èƒ½åŠ›çš„ç²¾ç»†æ§åˆ¶ï¼Œæœ€å¤§åŒ–ç³»ç»Ÿèµ„æºçš„ä½¿ç”¨ï¼Œç¡®ä¿æ‚¨çš„æ™ºèƒ½ä½“å³ä½¿åœ¨é‡è´Ÿè½½ä¸‹ä¹Ÿèƒ½æœ€ä½³è¿è¡Œã€‚                                      |

## å¼€å§‹ä½¿ç”¨

### å…ˆå†³æ¡ä»¶

- Rustï¼ˆæ¨èæœ€æ–°ç¨³å®šç‰ˆæœ¬ï¼‰
- Cargo åŒ…ç®¡ç†å™¨
- LLM æä¾›å•†çš„ API å¯†é’¥ï¼ˆOpenAIã€DeepSeek ç­‰ï¼‰

### å®‰è£…

å°† `swarms-rs` æ·»åŠ åˆ°æ‚¨çš„ `Cargo.toml`ï¼š

```toml
[dependencies]
swarms-rs = "*"

# æˆ–ä½¿ç”¨ GitHub ä¸Šçš„æœ€æ–°ç‰ˆæœ¬
# swarms-rs = { git = "https://github.com/The-Swarm-Corporation/swarms-rs", branch = "main" }
```

### ç¯å¢ƒè®¾ç½®

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.env` æ–‡ä»¶ï¼ŒåŒ…å«æ‚¨çš„ API å‡­è¯ï¼š

```
OPENAI_API_KEY=your_openai_key_here
OPENAI_BASE_URL=https://api.openai.com/v1

# æˆ–ç”¨äº DeepSeek
DEEPSEEK_API_KEY=your_deepseek_key_here
DEEPSEEK_BASE_URL=https://api.deepseek.com/v1
```

## æ¡†æ¶æ¶æ„

åœ¨ swarms-rs ä¸­ï¼Œæˆ‘ä»¬å°†æ¡†æ¶æ¨¡å—åŒ–ä¸ºä¸‰ä¸ªä¸»è¦æ¶æ„é˜¶æ®µï¼Œæ¯ä¸ªé˜¶æ®µéƒ½å»ºç«‹åœ¨å‰ä¸€ä¸ªé˜¶æ®µçš„åŸºç¡€ä¸Šï¼Œä»¥åˆ›å»ºè¶Šæ¥è¶Šå¤æ‚çš„æ™ºèƒ½ä½“ç³»ç»Ÿï¼š

```mermaid
graph TD
    A[æ¡†æ¶æ¶æ„] --> B[1. æ™ºèƒ½ä½“å±‚]
    A --> C[2. å¤šæ™ºèƒ½ä½“ç»“æ„]
    A --> D[3. çº§è”ç³»ç»Ÿ]
    
    B --> B1[LLM é›†æˆ]
    B --> B2[å·¥å…·ç³»ç»Ÿ]
    B --> B3[å†…å­˜ç®¡ç†]
    
    C --> C1[é¡ºåºå·¥ä½œæµ]
    C --> C2[å¹¶å‘å·¥ä½œæµ]
    C --> C3[é€šä¿¡åè®®]
    
    D --> D1[æ™ºèƒ½ä½“ç½‘ç»œ]
    D --> D2[åˆ†å±‚ç³»ç»Ÿ]
    D --> D3[ç¾¤ä½“æ™ºèƒ½]
```

1. **æ™ºèƒ½ä½“ï¼ˆLLM + å·¥å…· + å†…å­˜ï¼‰**
   - **è¯­è¨€æ¨¡å‹**ï¼šä¸å„ç§ LLM æä¾›å•†é›†æˆï¼ˆOpenAIã€DeepSeek ç­‰ï¼‰
   - **å·¥å…·ç³»ç»Ÿ**ï¼šé€šè¿‡ MCP å’Œè‡ªå®šä¹‰å·¥å…·æ·»åŠ åŠŸèƒ½çš„å¯æ‰©å±•æ¡†æ¶
   - **å†…å­˜ç®¡ç†**ï¼šç”¨äºç»´æŠ¤ä¸Šä¸‹æ–‡çš„çŸ­æœŸå’Œé•¿æœŸå†…å­˜ç³»ç»Ÿ
   - **çŠ¶æ€ç®¡ç†**ï¼šå¤„ç†æ™ºèƒ½ä½“çŠ¶æ€ã€é…ç½®å’Œè¿è¡Œæ—¶å‚æ•°

2. **å¤šæ™ºèƒ½ä½“ç»“æ„å’Œé€šä¿¡**
   - **é¡ºåºå·¥ä½œæµ**ï¼šå¤šä¸ªæ™ºèƒ½ä½“ä¹‹é—´çš„çº¿æ€§ä»»åŠ¡è¿›å±•
   - **å¹¶å‘å·¥ä½œæµ**ï¼šè·¨å¤šä¸ªæ™ºèƒ½ä½“çš„å¹¶è¡Œä»»åŠ¡æ‰§è¡Œ
   - **é€šä¿¡åè®®**ï¼šæ™ºèƒ½ä½“é—´é€šä¿¡çš„æ ‡å‡†åŒ–æ–¹æ³•
   - **ä»»åŠ¡åˆ†å‘**ï¼šè·¨æ™ºèƒ½ä½“ç½‘ç»œçš„æ™ºèƒ½å·¥ä½œè´Ÿè½½åˆ†é…
   - **åŒæ­¥**ï¼šåè°ƒæ™ºèƒ½ä½“æ´»åŠ¨å’Œå…±äº«ç»“æœçš„æœºåˆ¶

3. **çº§è”å¤šæ™ºèƒ½ä½“ç³»ç»Ÿ**
   - **åˆ†å±‚ç»„ç»‡**ï¼šå…·æœ‰ä¸“é—¨è§’è‰²çš„å¤šçº§æ™ºèƒ½ä½“ç»“æ„
   - **ç¾¤ä½“æ™ºèƒ½**ï¼šå¤§è§„æ¨¡æ™ºèƒ½ä½“äº¤äº’äº§ç”Ÿçš„æ¶Œç°è¡Œä¸º
   - **åŠ¨æ€æ‰©å±•**ï¼šåŸºäºå·¥ä½œè´Ÿè½½æ‰©å±•æ™ºèƒ½ä½“ç½‘ç»œçš„èƒ½åŠ›
   - **å®¹é”™**ï¼šå¼ºå¤§çš„é”™è¯¯å¤„ç†å’Œç³»ç»Ÿæ¢å¤
   - **èµ„æºä¼˜åŒ–**ï¼šç³»ç»Ÿèµ„æºçš„é«˜æ•ˆåˆ†é…å’Œåˆ©ç”¨

è¿™ç§æ¨¡å—åŒ–æ¶æ„å…è®¸çµæ´»çš„éƒ¨ç½²åœºæ™¯ï¼Œä»ç®€å•çš„å•æ™ºèƒ½ä½“åº”ç”¨åˆ°å¤æ‚çš„åˆ†å¸ƒå¼å¤šæ™ºèƒ½ä½“ç³»ç»Ÿã€‚æ¯ä¸€å±‚éƒ½è®¾è®¡ä¸ºå¯æ‰©å±•çš„ï¼Œå…è®¸å¼€å‘äººå‘˜è‡ªå®šä¹‰å’Œå¢å¼ºåŠŸèƒ½ï¼ŒåŒæ—¶ä¿æŒæ¡†æ¶çš„ä¼ä¸šçº§å¯é æ€§å’Œæ€§èƒ½çš„æ ¸å¿ƒä¼˜åŠ¿ã€‚

## æ™ºèƒ½ä½“

æ™ºèƒ½ä½“æ˜¯ç”± LLM é©±åŠ¨çš„å®ä½“ï¼Œé…å¤‡å·¥å…·å’Œå†…å­˜ï¼Œå¯ä»¥è‡ªä¸»è¿è¡Œä»¥è‡ªåŠ¨åŒ–ä»»åŠ¡ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼š

```rust
use std::env;

use anyhow::Result;
use swarms_rs::{llm::provider::openai::OpenAI, structs::agent::Agent};
use tracing_subscriber::{layer::SubscriberExt, util::SubscriberInitExt};

#[tokio::main]
async fn main() -> Result<()> {
    dotenv::dotenv().ok();
    tracing_subscriber::registry()
        .with(tracing_subscriber::EnvFilter::from_default_env())
        .with(
            tracing_subscriber::fmt::layer()
                .with_line_number(true)
                .with_file(true),
        )
        .init();

    let base_url = env::var("DEEPSEEK_BASE_URL").unwrap();
    let api_key = env::var("DEEPSEEK_API_KEY").unwrap();
        let client = OpenAI::from_url(base_url, api_key).set_model("deepseek-chat");
    let agent = client
        .agent_builder()
        .system_prompt(
            "ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„åŠ å¯†è´§å¸åˆ†æåŠ©æ‰‹ï¼Œä¸“æ³¨äºï¼š
            1. åŠ å¯†è´§å¸å¸‚åœºçš„æŠ€æœ¯åˆ†æ
            2. åŒºå—é“¾é¡¹ç›®çš„åŸºæœ¬é¢åˆ†æ
            3. å¸‚åœºæƒ…ç»ªåˆ†æ
            4. é£é™©è¯„ä¼°
            5. äº¤æ˜“æ¨¡å¼è¯†åˆ«
            
            åˆ†æåŠ å¯†è´§å¸æ—¶ï¼Œå§‹ç»ˆè€ƒè™‘ï¼š
            - å¸‚å€¼å’Œäº¤æ˜“é‡
            - å†å²ä»·æ ¼è¶‹åŠ¿
            - é¡¹ç›®åŸºæœ¬é¢å’ŒæŠ€æœ¯
            - è¿‘æœŸæ–°é—»å’Œå‘å±•
            - å¸‚åœºæƒ…ç»ªæŒ‡æ ‡
            - æ½œåœ¨é£é™©å’Œæœºä¼š
            
            æä¾›æ¸…æ™°ã€æ•°æ®é©±åŠ¨çš„è§è§£ï¼Œå¹¶å§‹ç»ˆåŒ…å«å…³äºå¸‚åœºæ³¢åŠ¨æ€§çš„ç›¸å…³å…è´£å£°æ˜ã€‚"
        )
        .agent_name("CryptoAnalyst")
        .user_name("Trader")
        .enable_autosave()
        .max_loops(3)  // å¢åŠ ä»¥å…è®¸æ›´å½»åº•çš„åˆ†æ
        .save_state_dir("./crypto_analysis/")
        .enable_plan("å°†åŠ å¯†è´§å¸åˆ†æåˆ†è§£ä¸ºç³»ç»Ÿæ­¥éª¤ï¼š
            1. æ”¶é›†å¸‚åœºæ•°æ®
            2. åˆ†ææŠ€æœ¯æŒ‡æ ‡
            3. å®¡æŸ¥åŸºæœ¬é¢å› ç´ 
            4. è¯„ä¼°å¸‚åœºæƒ…ç»ª
            5. æä¾›å…¨é¢è§è§£".to_owned())
        .build();
    let response = agent
        .run("What is the meaning of life?".to_owned())
        .await
        .unwrap();
    println!("{response}");
    Ok(())
}
```

### MCP å·¥å…·æ”¯æŒ

`swarms-rs` æ”¯æŒæ¨¡å‹ä¸Šä¸‹æ–‡åè®®ï¼ˆMCPï¼‰ï¼Œä½¿æ™ºèƒ½ä½“èƒ½å¤Ÿé€šè¿‡æ ‡å‡†åŒ–æ¥å£ä¸å¤–éƒ¨å·¥å…·äº¤äº’ã€‚è¿™ä¸ªå¼ºå¤§çš„åŠŸèƒ½å…è®¸æ‚¨çš„æ™ºèƒ½ä½“è®¿é—®ç°å®ä¸–ç•Œæ•°æ®å¹¶æ‰§è¡Œè¶…å‡ºå…¶è¯­è¨€èƒ½åŠ›çš„æ“ä½œã€‚

### æ”¯æŒçš„ MCP æœåŠ¡å™¨ç±»å‹

- **STDIO MCP æœåŠ¡å™¨**ï¼šè¿æ¥åˆ°å®ç° MCP åè®®çš„å‘½ä»¤è¡Œå·¥å…·
- **SSE MCP æœåŠ¡å™¨**ï¼šä½¿ç”¨æœåŠ¡å™¨å‘é€äº‹ä»¶è¿æ¥åˆ°åŸºäº Web çš„ MCP æœåŠ¡å™¨

### ä½¿ç”¨ç¤ºä¾‹

```rust
// æ·»åŠ  STDIO MCP æœåŠ¡å™¨
.add_stdio_mcp_server("uvx", ["mcp-hn"])
.await

// æ·»åŠ  SSE MCP æœåŠ¡å™¨
.add_sse_mcp_server("example-sse-mcp-server", "http://127.0.0.1:8000/sse")
.await
```

### å®Œæ•´ MCP æ™ºèƒ½ä½“ç¤ºä¾‹

```rust
use std::env;

use anyhow::Result;
use swarms_rs::{llm::provider::openai::OpenAI, structs::agent::Agent};
use tracing_subscriber::{layer::SubscriberExt, util::SubscriberInitExt};

#[tokio::main]
async fn main() -> Result<()> {
    dotenv::dotenv().ok();
    tracing_subscriber::registry()
        .with(tracing_subscriber::EnvFilter::from_default_env())
        .with(
            tracing_subscriber::fmt::layer()
                .with_line_number(true)
                .with_file(true),
        )
        .init();

    let base_url = env::var("DEEPSEEK_BASE_URL").unwrap();
    let api_key = env::var("DEEPSEEK_API_KEY").unwrap();
    let client = OpenAI::from_url(base_url, api_key).set_model("deepseek-chat");
    let agent = client
        .agent_builder()
        .system_prompt("ä½ æ˜¯ä¸€ä¸ªä¹äºåŠ©äººçš„åŠ©æ‰‹ã€‚")
        .agent_name("SwarmsAgent")
        .user_name("User")
        // å¦‚ä½•å®‰è£… uv: https://github.com/astral-sh/uv#installation
        // mcp stdio æœåŠ¡å™¨ï¼Œå¯ä»¥ä½¿ç”¨ä»»ä½•å…¶ä»– stdio mcp æœåŠ¡å™¨
        .add_stdio_mcp_server("uvx", ["mcp-hn"])
        .await
        // mcp sse æœåŠ¡å™¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ mcp-proxy å°†ä¸æ”¯æŒ sse æ¨¡å¼çš„ stdio mcp æœåŠ¡å™¨ä»£ç†åˆ° sse æœåŠ¡å™¨
        // åœ¨æ§åˆ¶å°è¿è¡Œ: uvx mcp-proxy --sse-port=8000 -- npx -y @modelcontextprotocol/server-filesystem ~
        // è¿™å°†åœ¨ç«¯å£ 8000 ä¸Šå¯åŠ¨ä¸€ä¸ª sse æœåŠ¡å™¨ï¼Œ~ å°†æ˜¯å”¯ä¸€å…è®¸è®¿é—®çš„ç›®å½•
        .add_sse_mcp_server("example-sse-mcp-server", "http://127.0.0.1:8000/sse")
        .await
        .retry_attempts(1)
        .max_loops(1)
        .build();

    let response = agent
        .run("è·å–ä»Šå¤©çš„å¤´æ¡æ–°é—»".to_owned())
        .await
        .unwrap();
    // è°ƒç”¨ mcp-hn stdio æœåŠ¡å™¨å¹¶ç»™æˆ‘ä»¬å“åº”
    println!("STDIO MCP å“åº”:\n{response}");

    let response = agent.run("åˆ—å‡º ~ ç›®å½•".to_owned()).await.unwrap();
    // è°ƒç”¨ example-sse-mcp-server å¹¶ç»™æˆ‘ä»¬å“åº”
    println!("SSE MCP å“åº”:\n{response}");

    Ok(())
}
```

æŸ¥çœ‹ [mcp_tool.rs](swarms-rs/examples/mcp_tool.rs) ç¤ºä¾‹ä»¥è·å–å®Œæ•´å®ç°ã€‚

## å¤šæ™ºèƒ½ä½“æ¶æ„

### ConcurrentWorkflow

è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨ `ConcurrentWorkflow` åŒæ—¶æ‰§è¡Œå¤šä¸ªæ™ºèƒ½ä½“çš„ç¤ºä¾‹ï¼š

```rust
use std::env;

use anyhow::Result;
use swarms_rs::llm::provider::openai::OpenAI;
use swarms_rs::structs::concurrent_workflow::ConcurrentWorkflow;

#[tokio::main]
async fn main() -> Result<()> {
    dotenv::dotenv().ok();

    let subscriber = tracing_subscriber::fmt::Subscriber::builder()
        .with_env_filter(tracing_subscriber::EnvFilter::from_default_env())
        .with_line_number(true)
        .with_file(true)
        .finish();
    tracing::subscriber::set_global_default(subscriber)?;

    let base_url = env::var("DEEPSEEK_BASE_URL").unwrap();
    let api_key = env::var("DEEPSEEK_API_KEY").unwrap();
    let client = OpenAI::from_url(base_url, api_key).set_model("deepseek-chat");

    // åˆ›å»ºå…·æœ‰ç‹¬ç«‹è§’è‰²çš„ä¸“ä¸šäº¤æ˜“æ™ºèƒ½ä½“
    let market_analysis_agent = client
        .agent_builder()
        .agent_name("å¸‚åœºåˆ†ææ™ºèƒ½ä½“")
        .system_prompt(
            "ä½ æ˜¯ä¸€ä¸ªäº¤æ˜“å¸‚åœºåˆ†æä¸“å®¶ã€‚åˆ†ææä¾›çš„å¸‚åœºæ•°æ® \
       å¹¶è¯†åˆ«å…³é”®è¶‹åŠ¿ã€æ¨¡å¼å’Œ technical æŒ‡æ ‡ã€‚ä½ çš„ä»»åŠ¡æ˜¯æä¾› \
       å…¨é¢çš„å¸‚åœºåˆ†æï¼ŒåŒ…æ‹¬æ”¯æ’‘/é˜»åŠ›ä½ã€æˆäº¤é‡åˆ†æå’Œ \
       æ•´ä½“å¸‚åœºæƒ…ç»ªã€‚åªå…³æ³¨åˆ†æå½“å‰å¸‚åœºçŠ¶å†µ \
       è€Œä¸æä¾›å…·ä½“çš„äº¤æ˜“å»ºè®®ã€‚ä»¥ <DONE> ç»“æŸä½ çš„åˆ†æã€‚",
        )
        .user_name("Trader")
        .max_loops(1)
        .temperature(0.2) // è¾ƒä½çš„æ¸©åº¦ä»¥è·å¾—ç²¾ç¡®çš„æŠ€æœ¯åˆ†æ
        .enable_autosave()
        .save_state_dir("./temp/concurrent_workflow/trading")
        .add_stop_word("<DONE>")
        .build();

    let trade_strategy_agent = client
        .agent_builder()
        .agent_name("äº¤æ˜“ç­–ç•¥æ™ºèƒ½ä½“")
        .system_prompt(
            "ä½ æ˜¯ä¸€ä¸ªäº¤æ˜“ç­–ç•¥ä¸“å®¶ã€‚åŸºäºæä¾›çš„å¸‚åœºåœºæ™¯ï¼Œ \
       åˆ¶å®šå…¨é¢çš„äº¤æ˜“ç­–ç•¥ã€‚ä½ çš„ä»»åŠ¡æ˜¯åˆ†æç»™å®šçš„å¸‚åœº \
       ä¿¡æ¯å¹¶åˆ›å»ºä¸€ä¸ªåŒ…å«æ½œåœ¨å…¥åœºå’Œå‡ºåœºç‚¹ã€ \
       ä»“ä½å¤§å°å»ºè®®å’Œè®¢å•ç±»å‹çš„ç­–ç•¥ã€‚åªå…³æ³¨ç­–ç•¥å¼€å‘ \
       è€Œä¸è¿›è¡Œé£é™©è¯„ä¼°ã€‚ä»¥ <DONE> ç»“æŸä½ çš„ç­–ç•¥ã€‚",
        )
        .user_name("Trader")
        .max_loops(1)
        .temperature(0.3)
        .enable_autosave()
        .save_state_dir("./temp/concurrent_workflow/trading")
        .add_stop_word("<DONE>")
        .build();

    let risk_assessment_agent = client
        .agent_builder()
        .agent_name("é£é™©è¯„ä¼°æ™ºèƒ½ä½“")
        .system_prompt(
            "ä½ æ˜¯ä¸€ä¸ªäº¤æ˜“é£é™©è¯„ä¼°ä¸“å®¶ã€‚ä½ çš„è§’è‰²æ˜¯è¯„ä¼° \
       æä¾›çš„å¸‚åœºåœºæ™¯ä¸­çš„æ½œåœ¨é£é™©ã€‚ä»…åŸºäº \
       æä¾›çš„å¸‚åœºä¿¡æ¯è®¡ç®—é€‚å½“çš„é£é™©æŒ‡æ ‡ï¼Œ \
       å¦‚æ³¢åŠ¨ç‡ã€æœ€å¤§å›æ’¤å’Œé£é™©å›æŠ¥æ¯”ã€‚æä¾›ç‹¬ç«‹çš„ \
       é£é™©è¯„ä¼°è€Œä¸è€ƒè™‘å…·ä½“çš„äº¤æ˜“ç­–ç•¥ã€‚ä»¥ <DONE> ç»“æŸä½ çš„è¯„ä¼°ã€‚",
        )
        .user_name("Trader")
        .max_loops(1)
        .temperature(0.2)
        .enable_autosave()
        .save_state_dir("./temp/concurrent_workflow/trading")
        .add_stop_word("<DONE>")
        .build();

    // åˆ›å»ºåŒ…å«æ‰€æœ‰äº¤æ˜“æ™ºèƒ½ä½“çš„å¹¶å‘å·¥ä½œæµ
    let workflow = ConcurrentWorkflow::builder()
        .name("äº¤æ˜“ç­–ç•¥å·¥ä½œæµ")
        .metadata_output_dir("./temp/concurrent_workflow/trading/workflow/metadata")
        .description("ä¸€ä¸ªç”¨äºä½¿ç”¨ç‹¬ç«‹ä¸“ä¸šæ™ºèƒ½ä½“åˆ†æå¸‚åœºæ•°æ®çš„å·¥ä½œæµã€‚")
        .agents(vec![
            Box::new(market_analysis_agent),
            Box::new(trade_strategy_agent),
            Box::new(risk_assessment_agent),
        ])
        .build();

    let result = workflow
        .run(
            "BTC/USD æ­£åœ¨æ¥è¿‘ 50,000 ç¾å…ƒçš„å…³é”®é˜»åŠ›ä½ï¼Œæˆäº¤é‡å¢åŠ ã€‚ \
             RSI ä¸º 68ï¼ŒMACD æ˜¾ç¤ºçœ‹æ¶¨åŠ¿å¤´ã€‚ä¸ºæ½œåœ¨çš„çªç ´åœºæ™¯åˆ¶å®šäº¤æ˜“ç­–ç•¥ã€‚",
        )
        .await?;

    println!("{}", serde_json::to_string_pretty(&result)?);
    Ok(())
}
```

## è¿è¡Œç¤ºä¾‹

åœ¨ [swarms-rs/examples](swarms-rs/examples/) ä¸­æœ‰æˆ‘ä»¬çš„ç¤ºä¾‹ä»£ç ï¼Œå¯ä»¥æä¾›ç›¸å½“ç¨‹åº¦çš„å‚è€ƒï¼š

è¦è¿è¡Œå›¾å·¥ä½œæµç¤ºä¾‹ï¼š

```bash
cargo run --example graph_workflow
```

é»˜è®¤æƒ…å†µä¸‹ä¼šè¯»å– `DEEPSEEK_API_KEY` å’Œ `DEEPSEEK_BASE_URL` ç¯å¢ƒå˜é‡ã€‚

## æ¶æ„

`swarms-rs` é‡‡ç”¨æ¨¡å—åŒ–æ¶æ„æ„å»ºï¼Œå…è®¸è½»æ¾æ‰©å±•å’Œè‡ªå®šä¹‰ï¼š

- **æ™ºèƒ½ä½“å±‚**ï¼šå…·æœ‰å†…å­˜ç®¡ç†å’Œå·¥å…·é›†æˆçš„æ ¸å¿ƒæ™ºèƒ½ä½“å®ç°
- **LLM æä¾›å•†å±‚**ï¼šä¸åŒ LLM æä¾›å•†ï¼ˆOpenAIã€DeepSeek ç­‰ï¼‰çš„æŠ½è±¡
- **å·¥å…·ç³»ç»Ÿ**ï¼šç”¨äºå‘æ™ºèƒ½ä½“æ·»åŠ åŠŸèƒ½çš„å¯æ‰©å±•å·¥å…·æ¡†æ¶
- **MCP é›†æˆ**ï¼šé€šè¿‡ STDIO å’Œ SSE æ¥å£æ”¯æŒæ¨¡å‹ä¸Šä¸‹æ–‡åè®®å·¥å…·
- **ç¾¤ä½“ç¼–æ’**ï¼šå¤æ‚å·¥ä½œæµçš„å¤šæ™ºèƒ½ä½“åè°ƒ
- **æŒä¹…å±‚**ï¼šçŠ¶æ€ç®¡ç†å’Œæ¢å¤æœºåˆ¶

### å¼€å‘è®¾ç½®

1. å…‹éš†ä»“åº“ï¼š

   ```bash
   git clone https://github.com/The-Swarm-Corporation/swarms-rs
   cd swarms-rs
   ```

2. å®‰è£…å¼€å‘ä¾èµ–ï¼š

   ```bash
   cargo install cargo-nextest
   ```

3. è¿è¡Œæµ‹è¯•ï¼š

   ```bash
   cargo nextest run
   ```

4. è¿è¡ŒåŸºå‡†æµ‹è¯•ï¼š

   ```bash
   cargo bench
   ```

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜ã€å»ºè®®æˆ–åé¦ˆï¼Œè¯·æäº¤é—®é¢˜æˆ–é€šè¿‡ [kye@swarms.world](mailto:kye@swarms.world) è”ç³»æˆ‘ä»¬ã€‚
